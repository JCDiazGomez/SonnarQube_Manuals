<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SonarQube Quick Guide</title>
<style>
  body { font-family: Arial, sans-serif; line-height: 1.6; background: #f9f9f9; color: #333; margin:0; padding:0; }
  header { background: #24292f; color: #fff; padding: 1rem 2rem; text-align:center; }
  h1 { margin:0; font-size:2rem; }
  section { padding: 2rem; max-width: 900px; margin:auto; background:#fff; margin-bottom:1rem; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
  h2 { color:#0366d6; margin-bottom:0.5rem; }
  p { margin-bottom:1rem; }
  ol { margin-left:1.5rem; }
  table { width:100%; border-collapse: collapse; margin:1rem 0; }
  th, td { border:1px solid #ddd; padding:0.5rem; text-align:left; }
  th { background:#0366d6; color:#fff; }
  .diagram { display:flex; flex-direction:column; align-items:center; margin:1rem 0; }
  .box { background:#0366d6; color:#fff; padding:0.8rem 1rem; border-radius:8px; margin:0.5rem 0; text-align:center; min-width:220px; box-shadow:0 2px 6px rgba(0,0,0,0.15);}
  .arrow { width:2px; height:20px; background:#333; position:relative; margin:0; }
  .arrow:after { content:""; position:absolute; top:20px; left:-5px; border-left:6px solid transparent; border-right:6px solid transparent; border-top:8px solid #333; }
  footer { text-align:center; padding:1rem; background:#24292f; color:#fff; margin-top:1rem;}
  a.button { display:inline-block; padding:0.5rem 1rem; margin-top:0.5rem; background:#28a745; color:#fff; text-decoration:none; border-radius:5px;}
  a.button:hover { background:#218838; }
</style>
</head>
<body>

<header>
  <h1>SonarQube Quick Guide</h1>
  <p>Setup & Workflows: SonarCloud, VPS, Local Pre-commit Hooks</p>
</header>

<section>
  <h2>1️⃣ SonarCloud (Cloud / Open Source)</h2>
  <p><strong>Goal:</strong> Integrate code analysis in GitHub Actions with mandatory Quality Gate.</p>

  <div class="diagram">
    <div class="box">GitHub Actions<br>(GitHub server)</div>
    <div class="arrow"></div>
    <div class="box">1. Clone repo<br>2. Compile code<br>3. Run tests<br>4. Analyze with SonarScanner</div>
    <div class="arrow"></div>
    <div class="box">5. Send results → SonarCloud</div>
    <div class="arrow"></div>
    <div class="box">SonarCloud (Cloud Server)<br>6. Process results<br>7. Apply Quality Gate<br>8. Respond ✅/❌</div>
    <div class="arrow"></div>
    <div class="box">GitHub Actions<br>9. Mark check as success/fail</div>
  </div>

</section>

<section>
  <h2>2️⃣ Self-hosted SonarQube (VPS / Enterprise)</h2>
  <p><strong>Goal:</strong> Full control over server & data; analysis in CI/CD.</p>

  <div class="diagram">
    <div class="box">GitHub Actions<br>(GitHub server)</div>
    <div class="arrow"></div>
    <div class="box">1. Execute workflow (.yml)<br>2. Connect to VPS http://my-vps-ip:9000</div>
    <div class="arrow"></div>
    <div class="box">VPS (Public IP)<br>3. GitHub sends: "Clone & Analyze"</div>
    <div class="arrow"></div>
    <div class="box">SonarQube Server (VPS)<br>4. Clone repo<br>5. Compile<br>6. Run tests<br>7. Complete analysis<br>8. Save results in DB<br>9. Respond ✅/❌</div>
    <div class="arrow"></div>
    <div class="box">GitHub Actions<br>10. Mark check as success/fail</div>
  </div>

</section>

<section>
  <h2>3️⃣ Local Pre-commit Hooks</h2>
  <p><strong>Goal:</strong> Immediate feedback before committing code.</p>

  <div class="diagram">
    <div class="box">Developer's Local Machine</div>
    <div class="arrow"></div>
    <div class="box">1. Make code changes<br>2. git commit -m "message"</div>
    <div class="arrow"></div>
    <div class="box">3. Git triggers pre-commit hook</div>
    <div class="arrow"></div>
    <div class="box">4. Hook executes dotnet-sonarscanner locally<br>5. Analyze code<br>6. Send results → SonarCloud</div>
    <div class="arrow"></div>
    <div class="box">SonarCloud (Cloud Server)<br>7. Process results<br>8. Store in dashboard<br>9. Return ✅/❌</div>
    <div class="arrow"></div>
    <div class="box">Pre-commit hook<br>10. ✅ Commit proceeds<br>❌ Commit blocked</div>
  </div>

</section>

<footer>
  <p>Created by Juan Carlos Diaz – SonarQube Quick Guide</p>
  <a class="button" href="https://github.com/JuanCarlosDiaz/sonarqube-manual" target="_blank">View GitHub Repo</a>
</footer>

</body>
</html>
