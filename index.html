<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SonarQube Quick Guide</title>
<style>
  body { font-family: Arial, sans-serif; line-height: 1.6; background: #f9f9f9; color: #333; margin:0; padding:0; }
  header { background: #24292f; color: #fff; padding: 1rem 2rem; text-align:center; }
  h1 { margin:0; font-size:2rem; }
  section { padding: 2rem; max-width: 900px; margin:auto; background:#fff; margin-bottom:1rem; border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1);}
  h2 { color:#0366d6; }
  pre { background:#f0f0f0; padding:1rem; overflow-x:auto; border-radius:5px; }
  table { width:100%; border-collapse: collapse; margin:1rem 0; }
  th, td { border:1px solid #ddd; padding:0.5rem; text-align:left; }
  th { background:#0366d6; color:#fff; }
  .diagram { text-align:center; margin:1rem 0; font-family: monospace; background:#f0f0f0; padding:1rem; border-radius:5px; white-space: pre-wrap;}
  footer { text-align:center; padding:1rem; background:#24292f; color:#fff; margin-top:1rem;}
  a.button { display:inline-block; padding:0.5rem 1rem; margin-top:0.5rem; background:#28a745; color:#fff; text-decoration:none; border-radius:5px;}
  a.button:hover { background:#218838; }
</style>
</head>
<body>

<header>
  <h1>SonarQube Quick Guide</h1>
  <p>Setup & Workflows: SonarCloud, VPS, Local Pre-commit Hooks</p>
</header>

<section>
  <h2>1Ô∏è‚É£ SonarCloud (Cloud / Open Source)</h2>
  <p><strong>Goal:</strong> Integrate code analysis in GitHub Actions with mandatory Quality Gate.</p>

  <h3>Setup Steps:</h3>
  <ol>
    <li>Create account on <a href="https://sonarcloud.io" target="_blank">SonarCloud</a></li>
    <li>Connect your GitHub repository</li>
    <li>Generate an authentication token and store in GitHub Secrets (SONAR_TOKEN)</li>
    <li>Create GitHub Actions workflow <code>.github/workflows/sonarcloud.yml</code> with build, test and sonar analysis</li>
  </ol>

  <pre><code>dotnet sonarscanner begin /k:"project-key" /o:"org-key" /d:sonar.token="${{ secrets.SONAR_TOKEN }}"
dotnet build
dotnet test --logger:trx
dotnet sonarscanner end /d:sonar.token="${{ secrets.SONAR_TOKEN }}"</code></pre>

  <div class="diagram">
Developer ‚Üí GitHub Actions ‚Üí SonarScanner CLI ‚Üí SonarCloud ‚Üí PR ‚úÖ/‚ùå
  </div>

  <p><strong>Key Features:</strong> Quality Gate enforcement, tests & coverage, metrics only (no source code), PR integration.</p>
</section>

<section>
  <h2>2Ô∏è‚É£ Self-hosted SonarQube (VPS / Enterprise)</h2>
  <p><strong>Goal:</strong> Full control over server & data; analysis in CI/CD.</p>

  <h3>Setup Steps:</h3>
  <ol>
    <li>Install SonarQube on VPS</li>
    <li>Open port 9000 for access</li>
    <li>Create user & token</li>
    <li>Configure GitHub Actions to point to VPS</li>
    <li>Run build, tests and sonar end</li>
  </ol>

  <div class="diagram">
GitHub Actions ‚Üí SonarScanner ‚Üí VPS SonarQube ‚Üí PR ‚úÖ/‚ùå
  </div>

  <p><strong>Key Features:</strong> Full data control, internal repos, Quality Gates supported, requires maintenance.</p>
</section>

<section>
  <h2>3Ô∏è‚É£ Local Pre-commit Hooks</h2>
  <p><strong>Goal:</strong> Immediate feedback before committing code.</p>

  <h3>Setup Steps:</h3>
  <ol>
    <li>Install <code>dotnet-sonarscanner</code> locally</li>
    <li>Create <code>.git/hooks/pre-commit</code> with analysis script</li>
    <li>Make script executable (<code>chmod +x .git/hooks/pre-commit</code>)</li>
    <li>Every commit runs analysis before saving</li>
  </ol>

  <pre><code>#!/bin/bash
export SONAR_TOKEN="your_local_token"
dotnet sonarscanner begin /k:"project-key" /o:"org-key" /d:sonar.token="$SONAR_TOKEN"
dotnet build
dotnet sonarscanner end /d:sonar.token="$SONAR_TOKEN"</code></pre>

  <div class="diagram">
Developer commit ‚Üí Local Pre-commit Hook ‚Üí SonarScanner ‚Üí PR feedback ‚úÖ/‚ùå
  </div>

  <p><strong>Key Features:</strong> Immediate feedback, prevents bad commits, skips tests for speed, token per developer, optional bypass.</p>
</section>

<section>
  <h2>üîÑ Quick Comparison</h2>
  <table>
    <tr>
      <th>Feature</th>
      <th>SonarCloud</th>
      <th>VPS SonarQube</th>
      <th>Local Pre-commit</th>
    </tr>
    <tr><td>Installation</td><td>None</td><td>VPS setup</td><td>Local</td></tr>
    <tr><td>CI/CD integration</td><td>‚úÖ</td><td>‚úÖ</td><td>‚ùå</td></tr>
    <tr><td>Quality Gate</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ (Local)</td></tr>
    <tr><td>Immediate Feedback</td><td>‚ùå</td><td>‚ùå</td><td>‚úÖ</td></tr>
    <tr><td>Maintenance</td><td>‚ùå</td><td>‚úÖ</td><td>‚ùå</td></tr>
    <tr><td>Data Privacy</td><td>Cloud</td><td>Full control</td><td>Local</td></tr>
    <tr><td>Team Sharing</td><td>‚úÖ</td><td>‚úÖ</td><td>‚ùå</td></tr>
  </table>
</section>

<footer>
  <p>Created by Juan Carlos Diaz ‚Äì SonarQube Quick Guide</p>
  <a class="button" href="https://github.com/JuanCarlosDiaz/sonarqube-manual" target="_blank">View GitHub Repo</a>
</footer>

</body>
</html>
